(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-034a68be"],{"41eb":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"LoginPage"},[t("div",{staticClass:"title-wrapper"},[e._v("沐光遇法 语你相识")]),t("Tabs",{model:{value:e.paneKey,callback:function(r){e.paneKey=r},expression:"paneKey"}},[t("TabPane",{attrs:{label:"登录",name:"login"}},[t("Form",{ref:"login",attrs:{model:e.login,rules:e.ruleInline}},[t("FormItem",{attrs:{prop:"username"}},[t("Input",{attrs:{type:"text",placeholder:"请输入账户"},model:{value:e.login.username,callback:function(r){e.$set(e.login,"username",r)},expression:"login.username"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.login.password,callback:function(r){e.$set(e.login,"password",r)},expression:"login.password"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),t("FormItem",[t("Button",{attrs:{long:"",type:"primary"},on:{click:function(r){return e.handleSubmit("login")}}},[e._v("登录")])],1)],1)],1),t("TabPane",{attrs:{label:"注册",name:"register"}},[t("Form",{ref:"register",attrs:{model:e.register,rules:e.ruleInline}},[t("FormItem",{attrs:{prop:"nickname"}},[t("Input",{attrs:{type:"text",placeholder:"请输入真实姓名"},model:{value:e.register.nickname,callback:function(r){e.$set(e.register,"nickname",r)},expression:"register.nickname"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-create-outline"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"schoolNumber"}},[t("Input",{attrs:{type:"text",placeholder:"请输入学号"},model:{value:e.register.schoolNumber,callback:function(r){e.$set(e.register,"schoolNumber",r)},expression:"register.schoolNumber"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-school-outline"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"username"}},[t("Input",{attrs:{type:"text",placeholder:"请输入登录账号"},model:{value:e.register.username,callback:function(r){e.$set(e.register,"username",r)},expression:"register.username"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-contact-outline"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"password"}},[t("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.register.password,callback:function(r){e.$set(e.register,"password",r)},expression:"register.password"}},[t("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),t("FormItem",{attrs:{prop:"gender"}},[t("Select",{attrs:{prefix:"ios-contacts-outline",placeholder:"请选择性别"},model:{value:e.register.gender,callback:function(r){e.$set(e.register,"gender",r)},expression:"register.gender"}},[t("Option",{attrs:{value:"1"}},[e._v("男")]),t("Option",{attrs:{value:"0"}},[e._v("女")])],1)],1),t("FormItem",[t("Button",{attrs:{long:"",type:"primary"},on:{click:function(r){return e.handleSubmit("register")}}},[e._v("登录")])],1)],1)],1)],1)],1)},n=[],o=t("5880"),a=t("d6a1");function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){p(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var c={name:"LoginPage",data:function(){return{login:{username:"",password:""},register:{username:"",nickname:"",schoolNumber:"",gender:"",password:""},ruleInline:{username:[{required:!0,message:"请输入登录账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],nickname:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],schoolNumber:[{required:!0,message:"请输入学号",trigger:"blur"},{pattern:/^[a-zA-Z]\d{9}$/,message:"格式错误，例如：M201973007"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}]},paneKey:"login"}},methods:l(l({},Object(o["mapActions"])({loginUser:"tokensOperation/login",registerUser:"userOperation/registerUser"})),{},{handleSubmit:function(e){var r=this;this.$refs[e].validate((function(t){t?"login"===e?r.loginUser({username:r.login.username,password:r.login.password}).then((function(e){e&&e.data.meta.success?(r.$Message.success("登录成功"),r.$router.push({path:"/mobile/stage"})):r.$Message.warning(e.data.meta.message)})):a["a"].userController.registerUser(r.register).then((function(t){t&&t.data.meta.success?(r.$Message.success("注册成功，请登录！"),r.$refs[e].resetFields(),r.paneKey="login"):r.$Message.warning(t.data.meta.message)})):r.$Message.error("请检查信息!")}))}})},u=c,g=(t("ea85"),t("4023")),m=Object(g["a"])(u,s,n,!1,null,"2a81a8e7",null);r["default"]=m.exports},a084:function(e,r,t){},ea85:function(e,r,t){"use strict";var s=t("a084"),n=t.n(s);n.a}}]);